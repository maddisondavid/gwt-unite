<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_12) on Mon Oct 05 11:59:57 BST 2009 -->
<TITLE>
WebServer (GWT-Unite)
</TITLE>

<META NAME="date" CONTENT="2009-10-05">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="WebServer (GWT-Unite)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../opera/io/Utils.html" title="class in opera.io"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../opera/io/WebServerConnection.html" title="class in opera.io"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?opera/io/WebServer.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="WebServer.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
opera.io</FONT>
<BR>
Class WebServer</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../resources/inherit.gif" ALT="extended by ">com.google.gwt.core.client.JavaScriptObject
      <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>opera.io.WebServer</B>
</PRE>
<HR>
<DL>
<DT><PRE>public final class <B>WebServer</B><DT>extends com.google.gwt.core.client.JavaScriptObject</DL>
</PRE>

<P>
The WebServer on which a particular service is running.
 
 This class cannot be instantiated, instead the <A HREF="../../opera/io/WebServer.html#getInstance()"><CODE>getInstance()</CODE></A> method should be used
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../opera/io/WebServer.html#ALL_REQUESTS_PATH">ALL_REQUESTS_PATH</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../opera/io/WebServer.html#CLOSE_PATH">CLOSE_PATH</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../opera/io/WebServer.html#INDEX_PATH">INDEX_PATH</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../opera/io/WebServer.html#WebServer()">WebServer</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../opera/io/WebServer.html#addEventListener(java.lang.String, opera.io.WebServerEventHandler, boolean)">addEventListener</A></B>(java.lang.String&nbsp;pathFragment,
                 <A HREF="../../opera/io/WebServerEventHandler.html" title="class in opera.io">WebServerEventHandler</A>&nbsp;handler,
                 boolean&nbsp;useCapture)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add an event listener for incoming requests.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../opera/io/WebServerConnection.html" title="class in opera.io">WebServerConnection</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../opera/io/WebServer.html#getConnections()">getConnections</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The current connections made to this Web server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../opera/io/WebServer.html#getContentType(java.lang.String)">getContentType</A></B>(java.lang.String&nbsp;file)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the MIME content type mapped to a particular file name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../opera/io/WebServer.html#getCurrentServiceName()">getCurrentServiceName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The name of the service currently accessing the webserver object, for example 'File Sharing'.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../opera/io/WebServer.html#getCurrentServicePath()">getCurrentServicePath</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The path of the service currently accessing the webserver object, for example '/fileSharing/'.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../opera/io/WebServer.html#getDeviceName()">getDeviceName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The name of the Opera Unite device the Web server is running on, for example 'work'.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../opera/io/WebServer.html#getHostName()">getHostName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The hostname of the Webserver, for example 'work.john.operaunite.com'.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../opera/io/WebServer.html" title="class in opera.io">WebServer</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../opera/io/WebServer.html#getInstance()">getInstance</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../opera/io/WebServer.html#getOriginURL()">getOriginURL</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The URL the currently running service was downloaded from.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../opera/io/WebServer.html#getPort()">getPort</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The port this Web server is listening to, for example 8840.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../opera/io/WebServer.html#getProxyName()">getProxyName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The name of the proxy the Web server is connected to, for example 'operaunite.com'.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../opera/io/WebServer.html#getPublicIP()">getPublicIP</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The public facing IP address of this Web server, as seen by the proxy.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../opera/io/WebServer.html#getPublicPort()">getPublicPort</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The public facing port of this Web server, as seen by the proxy.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../opera/io/WebServerServiceDescriptor.html" title="class in opera.io">WebServerServiceDescriptor</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../opera/io/WebServer.html#getServices()">getServices</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Services running on this Web server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../opera/io/WebServer.html#getUserName()">getUserName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The My Opera user name of the user owning the Web server, for example 'john'.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../opera/io/WebServer.html#isAvailable()">isAvailable</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../opera/io/WebServer.html#removeEventListener(java.lang.String, opera.io.WebServerEventHandler, boolean)">removeEventListener</A></B>(java.lang.String&nbsp;pathFragment,
                    <A HREF="../../opera/io/WebServerEventHandler.html" title="class in opera.io">WebServerEventHandler</A>&nbsp;handler,
                    boolean&nbsp;useCapture)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove an event listener from the server previously added with <A HREF="../../opera/io/WebServer.html#addEventListener(java.lang.String, opera.io.WebServerEventHandler, boolean)"><CODE>addEventListener(String, WebServerEventHandler, boolean)</CODE></A></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../opera/io/WebServer.html#shareFile(opera.io.File, java.lang.String)">shareFile</A></B>(<A HREF="../../opera/io/File.html" title="class in opera.io">File</A>&nbsp;file,
          java.lang.String&nbsp;path)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Shares a File</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../opera/io/WebServer.html#unshareFile(opera.io.File)">unshareFile</A></B>(<A HREF="../../opera/io/File.html" title="class in opera.io">File</A>&nbsp;file)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unshares a previously shared file</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_com.google.gwt.core.client.JavaScriptObject"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class com.google.gwt.core.client.JavaScriptObject</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>cast, createArray, createFunction, createObject, equals, hashCode, toString</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, finalize, getClass, notify, notifyAll, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="INDEX_PATH"><!-- --></A><H3>
INDEX_PATH</H3>
<PRE>
public static final java.lang.String <B>INDEX_PATH</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../constant-values.html#opera.io.WebServer.INDEX_PATH">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="ALL_REQUESTS_PATH"><!-- --></A><H3>
ALL_REQUESTS_PATH</H3>
<PRE>
public static final java.lang.String <B>ALL_REQUESTS_PATH</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../constant-values.html#opera.io.WebServer.ALL_REQUESTS_PATH">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="CLOSE_PATH"><!-- --></A><H3>
CLOSE_PATH</H3>
<PRE>
public static final java.lang.String <B>CLOSE_PATH</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../constant-values.html#opera.io.WebServer.CLOSE_PATH">Constant Field Values</A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="WebServer()"><!-- --></A><H3>
WebServer</H3>
<PRE>
protected <B>WebServer</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="isAvailable()"><!-- --></A><H3>
isAvailable</H3>
<PRE>
public static boolean <B>isAvailable</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>true if the WebServer runtime is available</DL>
</DD>
</DL>
<HR>

<A NAME="getInstance()"><!-- --></A><H3>
getInstance</H3>
<PRE>
public static <A HREF="../../opera/io/WebServer.html" title="class in opera.io">WebServer</A> <B>getInstance</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>The singleton instance of the WebServer
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../opera/io/FeatureUnavailableException.html" title="class in opera.io">FeatureUnavailableException</A></CODE> - if the WebServer runtime isn't available</DL>
</DD>
</DL>
<HR>

<A NAME="addEventListener(java.lang.String, opera.io.WebServerEventHandler, boolean)"><!-- --></A><H3>
addEventListener</H3>
<PRE>
public void <B>addEventListener</B>(java.lang.String&nbsp;pathFragment,
                             <A HREF="../../opera/io/WebServerEventHandler.html" title="class in opera.io">WebServerEventHandler</A>&nbsp;handler,
                             boolean&nbsp;useCapture)</PRE>
<DL>
<DD>Add an event listener for incoming requests.

 <p>Listening for requests is done by registering event listeners on the
 Web server. The "event name" corresponds to the path fragment of the URL after
 the service name, e.g. 'add' as in http://work.john.operaunite.com/wiki/add.</p>

 <p>The following request names, have special meanings:</p>

 <dl>
 <dt><A HREF="../../opera/io/WebServer.html#INDEX_PATH"><CODE>INDEX_PATH</CODE></A></dt>
 <dd>Event fired when a user accesses the root of the service (i.e. http://work.john.operaunite.com/wiki). 
 Use this to supply a default start page or similar for your service.</dd>
 <dt><A HREF="../../opera/io/WebServer.html#ALL_REQUESTS_PATH"><CODE>ALL_REQUESTS_PATH</CODE></A></dt><dd>Event fired when a user accesses any URL under the service. Use this to catch 
 all requests to the server in a general fashion. You'll need to use the 
 <A HREF="../../opera/io/WebServerRequest.html#getUri()"><CODE>WebServerRequest.getUri()</CODE></A> to distinguish the actual request URI. Listening for this event will also catch
 the <code>_index</code> request, but not <code>_close</code>.</dd>
 <dt><A HREF="../../opera/io/WebServer.html#CLOSE_PATH"><CODE>CLOSE_PATH</CODE></A></dt><dd>Event fired when a connection is closed. In this case the <code>connection</code> property
 of the <code>event</code> object is null.</dd>
 </dl>

 <p>Events for specific event listeners and _index events are fired before the _request event is fired. 
 Consider the following code example:</p>

 <pre><code>
      WebServer.getInstance().addEventListener(WebServer.ALL_REQUESTS_PATH, generalhandler, false);
      WebServer.getInstance().addEventListener("add", addhandler, false);</code></pre>

 <p>The handlers for a specific path, including _index is called before _request.</p>

 <p>If the user visits the URL http://work.john.operaunite.com/wiki/add, a <A HREF="../../opera/io/WebServerEventHandler.html#onConnection(opera.io.WebServerRequest, opera.io.WebServerResponse)"><CODE>WebServerEventHandler.onConnection(WebServerRequest, WebServerResponse)</CODE></A> is fired, 
 and the <code>addhandler</code> is called, before the <code>generalhandler</code> 
 method is called. This happens regardless of which event listener was registered first.</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pathFragment</CODE> - Path fragment to add a listener for.<DD><CODE>handler</CODE> - Event listener function to add.<DD><CODE>useCapture</CODE> - Whether or not the capture phase should be used.</DL>
</DD>
</DL>
<HR>

<A NAME="removeEventListener(java.lang.String, opera.io.WebServerEventHandler, boolean)"><!-- --></A><H3>
removeEventListener</H3>
<PRE>
public void <B>removeEventListener</B>(java.lang.String&nbsp;pathFragment,
                                <A HREF="../../opera/io/WebServerEventHandler.html" title="class in opera.io">WebServerEventHandler</A>&nbsp;handler,
                                boolean&nbsp;useCapture)</PRE>
<DL>
<DD>Remove an event listener from the server previously added with <A HREF="../../opera/io/WebServer.html#addEventListener(java.lang.String, opera.io.WebServerEventHandler, boolean)"><CODE>addEventListener(String, WebServerEventHandler, boolean)</CODE></A>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pathFragment</CODE> - Path fragment to remove a listener for.<DD><CODE>handler</CODE> - Event listener function to remove.<DD><CODE>useCapture</CODE> - Whether or not this applies to the capture phase.</DL>
</DD>
</DL>
<HR>

<A NAME="getCurrentServiceName()"><!-- --></A><H3>
getCurrentServiceName</H3>
<PRE>
public java.lang.String <B>getCurrentServiceName</B>()</PRE>
<DL>
<DD>The name of the service currently accessing the webserver object, for example 'File Sharing'.

 <p>The name of the service, for example as defined in the <code>widgetname</code> element
 in the <code>config.xml</code> of a Opera Unite service.</p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The name of the service currently accessing the WebServer object</DL>
</DD>
</DL>
<HR>

<A NAME="getCurrentServicePath()"><!-- --></A><H3>
getCurrentServicePath</H3>
<PRE>
public java.lang.String <B>getCurrentServicePath</B>()</PRE>
<DL>
<DD>The path of the service currently accessing the webserver object, for example '/fileSharing/'.

 <p>The path of the service, as defined in the <code>servicePath</code> element
 in the <code>config.xml</code> of a Opera Unite Application. In contrast to <A HREF="../../opera/io/WebServer.html#getCurrentServiceName()"><CODE>getCurrentServiceName()</CODE></A>,
 this name can only contain characters that are valid in an IRI.</p>

 <p>The path includes a leading and trailing slash.</p>

 <p>This way a service called "My Cool File Sharing (tm) (c)" can be
 identified as simply "share" in it's URL, i.e. 
 <code>http://work.john.operaunite.com/share</code>.</p>

 <p>In the example above this property would contain '/share/'.</p>

 <p>Note that anything after the first path component is handled by the service.</p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The path of the service currently accessing the webserver</DL>
</DD>
</DL>
<HR>

<A NAME="getConnections()"><!-- --></A><H3>
getConnections</H3>
<PRE>
public <A HREF="../../opera/io/WebServerConnection.html" title="class in opera.io">WebServerConnection</A>[] <B>getConnections</B>()</PRE>
<DL>
<DD>The current connections made to this Web server.

 <p>Connections remain in this collection even if they are closed. They are removed when there are
 no longer any references to the connection elsewhere in the system.</p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>all current connections made to this webserver</DL>
</DD>
</DL>
<HR>

<A NAME="getContentType(java.lang.String)"><!-- --></A><H3>
getContentType</H3>
<PRE>
public java.lang.String <B>getContentType</B>(java.lang.String&nbsp;file)</PRE>
<DL>
<DD>Get the MIME content type mapped to a particular file name.

 <p>The MIME content type associated with the given file name is looked up in the Opera browser.
 It can for example be used to set proper headers when serving special types of files. The file name
 must contain a period ('.').</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>file</CODE> - The file name to get a MIME type for, for example 'index.html'.
<DT><B>Returns:</B><DD>The MIME content type mapped to the given file name.</DL>
</DD>
</DL>
<HR>

<A NAME="getDeviceName()"><!-- --></A><H3>
getDeviceName</H3>
<PRE>
public java.lang.String <B>getDeviceName</B>()</PRE>
<DL>
<DD>The name of the Opera Unite device the Web server is running on, for example 'work'.

 <p>You may run a Web server on different devices, like two different computers
 in your home network and your mobile phone, e.g. <code>work</code> as in http://work.john.operaunite.com.</p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The name of the Opera Unite device this Websever is running on</DL>
</DD>
</DL>
<HR>

<A NAME="getHostName()"><!-- --></A><H3>
getHostName</H3>
<PRE>
public java.lang.String <B>getHostName</B>()</PRE>
<DL>
<DD>The hostname of the Webserver, for example 'work.john.operaunite.com'.

 <p>You may run Web servers on different devices. The hostname contains the device name,
 username and proxy address, for example <code>work.john.operaunite.com</code>
 as in <code>http://work.john.operaunite.com/wiki</code> and <code>http://home.john.operaunite.com/wiki</code>.</p>

<p>Note that this will always be a host name which contains the proxy name.</p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the hostname of the webserver</DL>
</DD>
</DL>
<HR>

<A NAME="getOriginURL()"><!-- --></A><H3>
getOriginURL</H3>
<PRE>
public java.lang.String <B>getOriginURL</B>()</PRE>
<DL>
<DD>The URL the currently running service was downloaded from.

 <p>This property can be used to make a download link to the service and can also function
 as part of an auto update scheme.</p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the URL this service was downloaded from</DL>
</DD>
</DL>
<HR>

<A NAME="getPort()"><!-- --></A><H3>
getPort</H3>
<PRE>
public java.lang.String <B>getPort</B>()</PRE>
<DL>
<DD>The port this Web server is listening to, for example 8840.

 <p>You may run multiple Web servers from the same computer by assigning different port
 numbers and device names to each instance of Opera running the Web server in opera:config.
 Valid ports are in the range 0-65536</p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the port this webserver is listening to</DL>
</DD>
</DL>
<HR>

<A NAME="getProxyName()"><!-- --></A><H3>
getProxyName</H3>
<PRE>
public java.lang.String <B>getProxyName</B>()</PRE>
<DL>
<DD>The name of the proxy the Web server is connected to, for example 'operaunite.com'.

 <p>The proxy name is the last part of the full host name, 
 e.g. <code>operaunite.com</code> as in <code>http://work.john.operaunite.com/wiki</code></p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the name of the proxy this Webserver is connected to</DL>
</DD>
</DL>
<HR>

<A NAME="getPublicIP()"><!-- --></A><H3>
getPublicIP</H3>
<PRE>
public java.lang.String <B>getPublicIP</B>()</PRE>
<DL>
<DD>The public facing IP address of this Web server, as seen by the proxy.

 <p>If the Web server does not accept direct connections, this property is <code>null</code>.</p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the public facing IP address of this WebServer</DL>
</DD>
</DL>
<HR>

<A NAME="getPublicPort()"><!-- --></A><H3>
getPublicPort</H3>
<PRE>
public int <B>getPublicPort</B>()</PRE>
<DL>
<DD>The public facing port of this Web server, as seen by the proxy.

 <p>If the Web server does not accept direct connections, this property is <code>null</code>.</p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the public facing port of this WebServer</DL>
</DD>
</DL>
<HR>

<A NAME="getServices()"><!-- --></A><H3>
getServices</H3>
<PRE>
public <A HREF="../../opera/io/WebServerServiceDescriptor.html" title="class in opera.io">WebServerServiceDescriptor</A>[] <B>getServices</B>()</PRE>
<DL>
<DD>Services running on this Web server.

 <p>An array of <A HREF="../../opera/io/WebServerServiceDescriptor.html" title="class in opera.io"><CODE>WebServerServiceDescriptor</CODE></A> objects that describe the services currently running
 on this device. You can use this property to discover and communicate with other services, and potentially share data 
 with them.</p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>descriptors describing other services running on this WebServer</DL>
</DD>
</DL>
<HR>

<A NAME="getUserName()"><!-- --></A><H3>
getUserName</H3>
<PRE>
public java.lang.String <B>getUserName</B>()</PRE>
<DL>
<DD>The My Opera user name of the user owning the Web server, for example 'john'.

 <p>For authentication purposes, a <a href="http://my.opera.com">My Opera</a> user name is required for connecting to the
 proxy and publishing services.</p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the MyOpera username of the user owning the WebServer</DL>
</DD>
</DL>
<HR>

<A NAME="shareFile(opera.io.File, java.lang.String)"><!-- --></A><H3>
shareFile</H3>
<PRE>
public void <B>shareFile</B>(<A HREF="../../opera/io/File.html" title="class in opera.io">File</A>&nbsp;file,
                      java.lang.String&nbsp;path)</PRE>
<DL>
<DD>Shares a File

 <p>Shares a File from a mountpoint that has been acquired earlier, and makes
 it available under the path specified in the second argument.</p>

 <p>The File can be a regular file, a directory or an archive.</p>

 <p>The share is automatically deleted when the service is closed.</p>

 <p>Example: If you have resolved a File to a given folder and then specify <code>WebServer.getInstance().shareFile(myFile, 'share')</code>, 
 it will be shared as the URL <code>http://device.user.proxy/service/share</code></p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>file</CODE> - The File to share<DD><CODE>path</CODE> - The path this file will be shared as on the web.</DL>
</DD>
</DL>
<HR>

<A NAME="unshareFile(opera.io.File)"><!-- --></A><H3>
unshareFile</H3>
<PRE>
public void <B>unshareFile</B>(<A HREF="../../opera/io/File.html" title="class in opera.io">File</A>&nbsp;file)</PRE>
<DL>
<DD>Unshares a previously shared file

 <p>When a file has been shared using shareFile, it can be unshared again
 by calling this method with the same File reference used to share the file</p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>file</CODE> - The file to unshare.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../opera/io/Utils.html" title="class in opera.io"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../opera/io/WebServerConnection.html" title="class in opera.io"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?opera/io/WebServer.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="WebServer.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
